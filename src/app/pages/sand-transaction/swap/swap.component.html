<app-page-header [pageHeaderInfo]="pageHeaderInfo"></app-page-header>
<ng-template #headerExtra>
  <div>
    <div>
      <img class="m-l-5" src="../../../../assets/images/API (1).png" alt="" />
    </div>
  </div>
</ng-template>
<ng-template #headerContent>
  <span class="ctx-desc">
    Use this screen to swap digital currencies either internal to your Business
    Node or externally. Prior to swapping on UDPN, users must have bound an
    applicable digital currency wallet with their DID.
  </span>
</ng-template>
<div class="normal-table-wrap">
  <div>
    <!-- <div class="ctx-titles">
      <nz-breadcrumb>
        <nz-breadcrumb-item>Transaction Management</nz-breadcrumb-item>
        <nz-breadcrumb-item class="font-semibold">Swap</nz-breadcrumb-item>
      </nz-breadcrumb>
    </div> -->
    <div nz-row class="inner-content">
      <div nz-col nzSpan="24" nzOffset="">
        <ng-container *ngIf="!datailStatus">
          <!-- <div class="flex items-center justify-between mb-2">
            <h3 class="ml-6 dc-tool md:text-sm xl:text-sm nzXXl:text-base">
              Use this screen to swap digital currencies either internal to your
              Business Node or externally. Prior to swapping on UDPN, users must
              have bound an applicable digital currency wallet with their DID.
            </h3>
            <div class="mr-3">
              <img
                src="../../../../assets/images/API (1).png"
                alt=""
                class="w-14"
              />
            </div>
          </div> -->
          <nz-card
            [nzTitle]=""
            [nzBordered]="false"
            [nzExtra]=""
          >
            <form
              nz-form
              [formGroup]="validateForm"
              nzLayout="horizontal"
              class="ant-advanced-search-form"
            >
              <div nz-row [nzGutter]="24">
                <div nz-col [nzSpan]="12">
                  <div class="swap-title operate-text">Sender Details</div>
                  <nz-form-item>
                    <nz-form-label
                      nzSpan="8"
                      nzMd="10"
                      nzXl="12"
                      nzXXl="8"
                      class="form-label"
                      >Business Account</nz-form-label
                    >
                    <nz-form-control>
                      <input
                        nz-input
                        id="assoc"
                        placeholder="Business Account"
                        formControlName="senderBank"
                      />
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label
                      nzRequired
                      nzSpan="8"
                      nzMd="10"
                      nzXl="12"
                      nzXXl="8"
                      class="form-label"
                      >Sender DID</nz-form-label
                    >
                    <nz-form-control>
                      <ng-container *ngIf="!senderStatus">
                        <input
                          nz-input
                          placeholder="Sender DID"
                          formControlName="senderDid"
                      /></ng-container>
                      <ng-container *ngIf="senderStatus">
                        <nz-select formControlName="senderDid" nzAllowClear>
                          <nz-option
                            *ngFor="let item of senderDiArr"
                            [nzValue]="item.did"
                            [nzLabel]="item.did"
                          >
                          </nz-option>
                        </nz-select>
                      </ng-container>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label
                      nzRequired
                      nzSpan="8"
                      nzMd="10"
                      nzXl="12"
                      nzXXl="8"
                      class="form-label"
                      >Source Currency Type
                    </nz-form-label>
                    <nz-form-control>
                      <nz-cascader
                        [nzOptions]="nzOptions"
                        id="block"
                        formControlName="blockChain"
                      ></nz-cascader>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label
                      nzRequired
                      nzSpan="8"
                      nzMd="10"
                      nzXl="12"
                      nzXXl="8"
                      class="form-label"
                      >Send Account
                    </nz-form-label>
                    <nz-form-control>
                      <nz-select
                        formControlName="senderAccount"
                        nzPlaceHolder="Send Account"
                        [(ngModel)]="sendAccountSelect"
                      >
                        <ng-container *ngFor="let item of sendAccountArr">
                          <nz-option
                            *ngIf="item.isDefault !== 1"
                            [nzValue]="item.currencyAccount"
                            [nzLabel]="item.currencyAccount"
                          >
                          </nz-option>
                          <nz-option
                            *ngIf="item.isDefault === 1"
                            nzCustomContent
                            [nzValue]="item.currencyAccount"
                            [nzLabel]="item.currencyAccount"
                          >
                            <i
                              nz-icon
                              nzType="check"
                              nzTheme="outline"
                              class="text-blue-600"
                            ></i>
                            <span class="ml-2" class="text-blue-600">{{
                              item.currencyAccount
                            }}</span>
                          </nz-option>
                        </ng-container>
                      </nz-select>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label
                      nzRequired
                      nzSpan="8"
                      nzMd="10"
                      nzXl="12"
                      nzXXl="8"
                      class="form-label"
                      >Send Amount
                    </nz-form-label>
                    <nz-form-control>
                      <nz-input-group [nzSuffix]="suffixIconSearch">
                        <input
                          nz-input
                          placeholder="Send Amount"
                          [(ngModel)]="values"
                          (keypress)="clearNoNum($event, undefined, 17)"
                          onkeyup="this.value= this.value.match(/\d+(\.\d{0,18})?/) ? this.value.match(/\d+(\.\d{0,18})?/)[0] : ''"
                          formControlName="senderAmount"
                        />
                      </nz-input-group>
                      <ng-template #suffixIconSearch>
                        {{ currency_change }}
                      </ng-template>
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <div nz-col [nzSpan]="12">
                  <div class="swap-title operate-text">Beneficiary Details</div>
                  <!-- <nz-form-item>
                      <nz-form-label>Beneficiary DID</nz-form-label>
                      <nz-form-control>
                        <input nz-input placeholder="placeholder" formControlName="userDid" />
                      </nz-form-control>
                    </nz-form-item> -->
                  <nz-form-item>
                    <nz-form-label
                      nzRequired
                      nzSpan="8"
                      nzMd="10"
                      nzXl="12"
                      nzXXl="8"
                      class="form-label"
                      >Beneficiary Type
                    </nz-form-label>
                    <nz-form-control>
                      <nz-select
                        formControlName="beneficiaryType"
                        (ngModelChange)="onChaneg($event)"
                      >
                        <nz-option
                          nzValue="1"
                          nzLabel="Internal Bank Beneficiary"
                        ></nz-option>
                        <nz-option
                          nzValue="2"
                          nzLabel="External Beneficiary"
                        ></nz-option>
                      </nz-select>
                    </nz-form-control>
                  </nz-form-item>

                  <nz-form-item>
                    <nz-form-label
                      nzSpan="8"
                      nzMd="10"
                      nzXl="12"
                      nzXXl="8"
                      class="form-label"
                      >Beneficiary Name
                    </nz-form-label>
                    <nz-form-control>
                      <input
                        nz-input
                        placeholder="Beneficiary Name"
                        formControlName="beneficiaryName"
                      />
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label
                      nzRequired
                      nzSpan="8"
                      nzMd="10"
                      nzXl="12"
                      nzXXl="8"
                      class="form-label"
                      >Target Currency type
                    </nz-form-label>
                    <nz-form-control>
                      <nz-cascader
                        [nzOptions]="targetNzOptions"
                        formControlName="targetBlockChain"
                      ></nz-cascader>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item *ngIf="showStatus">
                    <nz-form-label
                      nzRequired
                      nzSpan="8"
                      nzMd="10"
                      nzXl="12"
                      nzXXl="8"
                      class="form-label"
                      >Business Account
                    </nz-form-label>
                    <nz-form-control>
                      <input
                        nz-input
                        id="sender"
                        placeholder="Business Account"
                        formControlName="beneficiaryBank"
                      />
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label
                      nzRequired
                      nzSpan="8"
                      nzMd="10"
                      nzXl="12"
                      nzXXl="8"
                      class="form-label"
                      >Beneficiary Account
                    </nz-form-label>
                    <nz-form-control>
                      <ng-container *ngIf="!beneficiaryBankStatus">
                        <input
                          nz-input
                          placeholder="Beneficiary Account"
                          formControlName="beneficiaryAccount"
                      /></ng-container>
                      <ng-container *ngIf="beneficiaryBankStatus">
                        <nz-select
                          formControlName="beneficiaryAccount"
                          nzAllowClear
                        >
                          <nz-option
                            *ngFor="let item of beneficiaryBankStatusArr"
                            [nzValue]="item.currencyAccount"
                            [nzLabel]="item.currencyAccount"
                          >
                          </nz-option>
                        </nz-select>
                      </ng-container>
                    </nz-form-control>
                  </nz-form-item>
                </div>
              </div>
              <div nz-row>
                <div nz-col [nzSpan]="24" class="search-area">
                  <nz-space>
                    <button
                      nz-button
                      *nzSpaceItem
                      [nzType]="'primary'"
                      [nzLoading]="isLoading"
                      (click)="onSubmitForm()"
                      [disabled]="!validateForm.valid"
                    >
                      Next
                    </button>
                    <a
                      nz-button
                      *nzSpaceItem
                      nzType="link"
                      (click)="resetForm()"
                      >Reset</a
                    >
                  </nz-space>
                </div>
              </div>
            </form>
          </nz-card>
        </ng-container>
      </div>
    </div>
  </div>
</div>
